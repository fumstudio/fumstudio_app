<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stainless steel round flower locket</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
   <link rel="stylesheet" href="css/catalog.css">
      <link rel="stylesheet" href="css/Product.css
    ">
          <link rel="stylesheet" href="css/Itempage.css">     
   <link rel= "Shortcut icon" type="x-icon" href= "https://i.postimg.cc/XqrhcVpD/20240702-095704.png "> 
    <meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/myhost-a7ee9.appspot.com/o/images%2FDSC09759_094002.jpg?alt=media&token=690a5b27-016a-431e-a6e8-cffb3c8e3136">

<meta name="google-site-verification" content="c6IEOWw2gr7deS66lgrvu5-eNfUoRfR4UidciqEeoGk" />

  <meta name="description" content="
  A locket to keep a treasure close to your heart. It is plain stainless steel with no marking.
">
    <!-- Open Graph Meta Tags -->

<!-- Ensure this is a valid image URL -->
    

  <meta name="keywords"  content="Fumstudio, fum.studio, fumstudio.shop">


  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9RJSDSSVMM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-9RJSDSSVMM');
</script>
  
  <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MNW5B4W9');</script>
<!-- End Google Tag Manager -->

 
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script>
        $(function(){
            $("#navbar").load("navbar.html");
        });
    </script>
     <script>
        $(function(){
            $("#Set_Pillow_Case").load("Set_Pillow_Case.html");
        });
    </script>
         <script>
        $(function(){
            $("#Set_Phone_Cases").load("Set_Phone_Cases_.html");
        });
    </script>


            <script>
        $(function(){
            $("#Whatsapp_button").load("whatsApp_button.html");
        });
    </script>
        <script>
        $(function(){
            $("#footer").load("footer.html");
        });
</script>
    <style>


        
    </style>

</head>
<body>
<div class="background">
<div class="container2">

 <div class="menu-btn">
    <i class="fas fa-bars fa-2x"></i>
  </div>


    <!-- Nav -->
    
<nav class="main-nav">
  <!-- Navigation content -->



<i class="fa fa-chevron-left back-button" aria-hidden="true" onclick="goBack()"></i>
<script>

function goBack() {
    window.history.back();
}

</script>

 <h1 class="item-nam"> Round flower locket</h1>
        <div id="navbar"></div>
<div class="dark-overlay"></div> 

    <a href="cart_page.html" id="cartLink">
    <div class="cart-container">
        <i class="fas fa-shopping-cart cart-icon"></i>
        <span id="totalItemCount" class="item-count">0</span>
    </div>
    </a>

        </nav>
 <br>        <br>        <br>  <br> 
         <!-- Design Selector Button -->

<div class="container">
    <div class="flex flex-col md:flex-row">
        <div class="slider" id="slider">
            <div class="slides" id="slides">
                                                 <div class="slide">
                    <img class="w-full" src="https://firebasestorage.googleapis.com/v0/b/myhost-a7ee9.appspot.com/o/images%2Fouymn.png?alt=media&token=b2182528-6a03-4d1f-8dc8-2b7c25803559" alt="Image 1">
                </div>              


                                <div class="slide">
                    <img class="w-full" src="https://firebasestorage.googleapis.com/v0/b/myhost-a7ee9.appspot.com/o/images%2FDSC09759_094002.jpg?alt=media&token=690a5b27-016a-431e-a6e8-cffb3c8e3136" alt="Image 2">
                </div>   
                           <div class="slide">
                    <img class="w-full" src="https://firebasestorage.googleapis.com/v0/b/myhost-a7ee9.appspot.com/o/images%2FDSC09765_094112.jpg?alt=media&token=04ae59cc-f9c5-41b1-ae8e-e355b1517e90" alt="image 3">
                </div>
       
                           </div>
            <span class="slide-count" id="slideCount">1/2</span>
            <button id="prevButton" class="slide-button">&lt;</button>
            <button id="nextButton" class="slide-button">&gt;</button>
        </div>
        <div class="product-details">

            <p class="product-description"> Upload 2 picture .A locket to keep a treasure close to your heart.

    <div class="product-info">
         <span class="product-price price" data-price="175.00">
    
</span>   

    <button class="share-button" onclick="sharePhoto()" style="border: none; background: none; cursor: pointer;">
<i class="fas fa-share"></i>
    </button>
</div>    

<div class="modal" id="share-modal">
    <div class="modal-content">
        <span id="share-modal-message"></span><br>
        <button class="close-button" onclick="closeShareModal()">OK</button>

</div>
</div>            
     <script>
        const shareText = 'https://fumstudio.shop/stainless_steel_round_plain_locket.html';

function showModal(message) {
    const modal = document.getElementById('share-modal');
    const modalMessage = document.getElementById('share-modal-message');
    modalMessage.textContent = message;
    modal.style.display = 'block'; // Show the modal
}

function closeShareModal() {
    const modal = document.getElementById('share-modal');
    modal.style.display = 'none'; // Hide the modal
}

        function sharePhoto() {
            if (navigator.share) {
                navigator.share({
                    title: 'Stainless_steel_round_flower_locket',
                    text: shareText,
                });
            } else {
                showModal('Sharing is not supported in this browser. Please use a compatible browser or device.');
            }
        }
    </script>              
    <p class="product-title">Free shipping</p>
    <p>9-14 business days</p>




<br>
       <div id="likeSection">
        <div id="like-container">
            <i id="like-button" class="fas fa-thumbs-up"></i>
        </div>

        <span>Likes: </span><span id="like-count">0</span>
    </div>

    <div id="custom-alert" style="display: none;">
        <div class="alert-content">
            <p></p>
        </p>
            <br>
            <button id="alert-ok-button">OK</button>
        </div>
    </div>       <div class="mt-4">
             
            </div>

            <button id="detailsButton" class="details-button">Details</button>
              <a href="stainless_steel_round_flower_locket_customized.html"><button class="order-button">
                <i class="fas fa-shopping-cart"></i> Customize 
            </button></a>      
            </div>
        </div>
    </div>
</div>

<div id="overlay" class="overlay hidden">
    <div class="overlay-content">
              <button id="closeButton" class="close-button2">X</button>
        <h3 class="overlay-title">Details</h3>
<p class="overlay-description"> 
Upload 2 pictures.
<br>
- The Locket and chain are made from stainless steel and will not tarnish or change colour.
<br>
- The locket in size is 25mmx 25mm
<br>
- Chain 50cm 
<br>

What's in the box
1 x locket
1 x Chain
  </p>

    </div>
</div>

<script>
    const detailsButton = document.getElementById('detailsButton');
    const closeButton = document.getElementById('closeButton');
    const overlay = document.getElementById('overlay');
    const commentInput = document.getElementById('commentInput');
    const submitComment = document.getElementById('submitComment');
    const commentsList = document.getElementById('commentsList');
    const slider = document.getElementById('slider');

    detailsButton.addEventListener('click', () => {
        overlay.classList.remove('hidden');
    });

    closeButton.addEventListener('click', () => {
        overlay.classList.add('hidden');
    });

   

    let currentIndex = 0;
    const slides = document.getElementById('slides');
    const totalSlides = slides.children.length;
    const slideCount = document.getElementById('slideCount');

    function updateSlide() {
        slides.style.transform = `translateX(-${currentIndex * 100}%)`;
        slideCount.textContent = `${currentIndex + 1}/${totalSlides}`;
    }

    document.getElementById('prevButton').addEventListener('click', () => {
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalSlides - 1;
        updateSlide();
    });

    document.getElementById('nextButton').addEventListener('click', () => {
        currentIndex = (currentIndex < totalSlides - 1) ? currentIndex + 1 : 0;
        updateSlide();
    });

    // Touch event listeners for swiping
    let startX;
    let isDragging = false;

    slider.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        isDragging = true;
    });

    slider.addEventListener('touchmove', (e) => {
        if (!isDragging) return;

        const moveX = e.touches[0].clientX;
        const diffX = startX - moveX;

        if (Math.abs(diffX) > 30) { // Reduced threshold for swipe
            e.preventDefault(); // Prevent default scrolling behavior

            if (diffX > 30) {
                // Swipe left
                currentIndex = (currentIndex < totalSlides - 1) ? currentIndex + 1 : 0;
                updateSlide();
            } else if (diffX < -30) {
                // Swipe right
                currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalSlides - 1;
                updateSlide();
            }
            isDragging = false; // Stop dragging after one swipe
        }
    });

    slider.addEventListener('touchend', () => {
        isDragging = false; // Reset dragging state
    });
  
</script>
<!-- like button-->
   <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js';
        import { getDatabase, ref, onValue, set } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js';

        const firebaseConfig = {
            apiKey: "AIzaSyBDrzrgLslaJvnXbo1e90irCEtdcm9ZsCU",
            authDomain: "logins-13661.firebaseapp.com",
            databaseURL: "https://logins-13661-default-rtdb.firebaseio.com",
            projectId: "logins-13661",
            storageBucket: "logins-13661.appspot.com",
            messagingSenderId: "451535349483",
            appId: "1:451535349483:web:d3c9867fd2bffbbdca40ae",
            measurementId: "G-DWP16WX2H7"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth(app);
        const pageId = "Round_flower_locket";
        const pageName = "Round flower locket";

        const likeButton = document.getElementById('like-button');
        const likeCount = document.getElementById('like-count');
        const customAlert = document.getElementById('custom-alert');
        const okButton = document.getElementById('alert-ok-button');

        let userId;
        let currentLikes = 0;
        let liked = false;

        // Load total likes (for both logged in and out users)
        const publicLikesRef = ref(database, `publicLikes/${pageId}`); 
        onValue(publicLikesRef, (snapshot) => {
            const data = snapshot.val();
            if (data) {
                likeCount.textContent = formatLikes(data.count || 0); 
            }
        });

        const formatLikes = (num) => {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        };

        auth.onAuthStateChanged((user) => {
            if (user) {
                userId = user.uid;
                loadLikes(); // Load user-specific likes
            }
        });

        // Load likes
        const loadLikes = () => {
            const likesRef = ref(database, `likes/${pageId}`);
            onValue(likesRef, (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    currentLikes = data.count || 0;
                    liked = data.users && userId && data.users[userId] === true; // Check if user is logged in

                    updateLikeButton();
                }
            });
        };

        const updateLikeButton = () => {
            likeButton.classList.toggle('liked', liked);
            likeButton.classList.toggle('fa-thumbs-up', !liked);
            likeButton.classList.toggle('fa-gift', liked);
        };

        const showAlert = () => {
            customAlert.style.display = 'flex'; // Show the modal
        };

        okButton.addEventListener('click', () => {
            customAlert.style.display = 'none'; // Hide the modal
        });

likeButton.addEventListener('click', () => {
    if (!userId) {
        window.location.href = 'login.html'; // Redirect to login page
        return;
    }

    liked = !liked;
    currentLikes += liked ? 1 : -1;

    // Update both "likes" and "publicLikes"
    const likesRef = ref(database, `likes/${pageId}`);
    onValue(likesRef, (snapshot) => {
        const data = snapshot.val() || {};
        const users = data.users || {};

        if (liked) {
            users[userId] = true;
        } else {
            delete users[userId]; 
        }

        // Update the likes count
        set(likesRef, {
            count: currentLikes,
            users: users
        }).then(() => {
            likeCount.textContent = formatLikes(currentLikes);
            updateLikeButton();
        });

        const likedPagesRef = ref(database, `likedPages/${userId}/${pageId}`);
        if (liked) {
            set(likedPagesRef, {
                name: pageName

            });
        } else {
            set(likedPagesRef, null);
        } 

        // Update the public likes count
        const publicLikesRef = ref(database, `publicLikes/${pageId}`);
        set(publicLikesRef, {
            count: currentLikes 
        });
    });
});
</script>

   <div id="Whatsapp_button"></div>
      <section>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBDrzrgLslaJvnXbo1e90irCEtdcm9ZsCU",
            authDomain: "logins-13661.firebaseapp.com",
            databaseURL: "https://logins-13661-default-rtdb.firebaseio.com",
            projectId: "logins-13661",
            storageBucket: "logins-13661.appspot.com",
            messagingSenderId: "451535349483",
            appId: "1:451535349483:web:d3c9867fd2bffbbdca40ae",
            measurementId: "G-DWP16WX2H7"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        const catalogContainer = document.getElementById("catalog-container");

        function loadCatalog() {
            const catalogRef = ref(db, "catalog/");
            onValue(catalogRef, (snapshot) => {
                catalogContainer.innerHTML = ''; // Clear previous items
                const catalogData = snapshot.val();
                if (catalogData) {
                    // Filter for specific items by name (e.g., "Sports Watch" and "Wireless Headphones")
                    const filteredItems = Object.fromEntries(
                        Object.entries(catalogData).filter(([key, item]) => 
                            item.name === "Tote bag" || item.name === "Phone Cases "
                        )
                    );

// When displaying the catalog items, check if originalPrice is a valid number
// When displaying the catalog items, check if originalPrice is a valid number
Object.entries(filteredItems).forEach(([key, item]) => {
    const itemElement = document.createElement("div");
    itemElement.classList.add("catalog-item", "item");
    itemElement.innerHTML = `


<a href="${item.link}" target="_blank" class="item-link">
            <img src="${item.image}" alt="${item.name}" width="100">
            <h3>${item.name}</h3>
            <p class="price-container">
                <span class="original-price price" data-price="${item.originalPrice}">
                    ${item.originalPrice && !isNaN(parseFloat(item.originalPrice)) ? 'ZAR ' + parseFloat(item.originalPrice).toFixed(2) : ''}
                </span>
                <span class="pricing price" data-price="${item.price}">ZAR ${item.price.toFixed(2)}</span>
            </p>
            <p>Categories: 
                ${item.category1 ? item.category1 : ''}
                ${item.category2 ? ', ' + item.category2 : ''}
                ${item.category3 ? ', ' + item.category3 : ''}
                ${item.category4 ? ', ' + item.category4 : ''}
                ${item.category5 ? ', ' + item.category5 : ''}
            </p>
            <p>${item.details}</p>
            ${item.freeShipping ? '<p class="free-shipping">Free Shipping</p>' : ''}
        </a>
    `;
               catalogContainer.appendChild(itemElement);
                    });
                }
            });
        }

        loadCatalog(); // Initial load
        
        if (!document.querySelector('script[src="currency-converter.js"][type="module"]')) {
            var script = document.createElement('script');
            script.src = 'currency-converter.js';
            script.type = 'module'; // Set the type to "module"
            document.body.appendChild(script);
        }
        
    </script>
</head>
<body>
     <p id="like" class="like">You might also like</p>


    <div class="catalog" id="catalog-container">
        <!-- Items will be displayed here -->
    </div>
</body>


   </section>
   <br>   <br>      <br>   
       <div id="footer"></div>
       </div></div>
 
<!-- partial -->
  <script src='https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js'></script><script  src="js/script.js"></script>
  

 
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNW5B4W9"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
 <script src="js/main.js"></script>

<script type="module" src="js/cart.js"></script>
</body>
</html>
